<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Instrument Variable for Screen Time</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../Virginia_Tech_seal.svg.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://hypothes.is/embed.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../Horizontal_VT_Full_Color_RGB.png" alt="" class="navbar-logo">
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../research.html" rel="" target="">
 <span class="menu-text">Research</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../teaching.html" rel="" target="">
 <span class="menu-text">Teaching</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../project.html" rel="" target="">
 <span class="menu-text">Project</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Instrument Variable for Screen Time</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">Paper1</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">Tuesday, March 19, 2024</p>
      </div>
    </div>
    
      <div>
      <div class="quarto-title-meta-heading">Modified</div>
      <div class="quarto-title-meta-contents">
        <p class="date-modified">Sunday, August 17, 2025</p>
      </div>
    </div>
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#social-network-control" id="toc-social-network-control" class="nav-link active" data-scroll-target="#social-network-control"><span class="header-section-number">1</span> Social Network Control</a></li>
  <li><a href="#instrument-variable-for-screen-time" id="toc-instrument-variable-for-screen-time" class="nav-link" data-scroll-target="#instrument-variable-for-screen-time"><span class="header-section-number">2</span> Instrument Variable for Screen Time</a>
  <ul class="collapse">
  <li><a href="#charging-as-instrument-variable" id="toc-charging-as-instrument-variable" class="nav-link" data-scroll-target="#charging-as-instrument-variable"><span class="header-section-number">2.1</span> Charging as Instrument Variable</a>
  <ul class="collapse">
  <li><a href="#impact-of-battery-level-on-screen-use" id="toc-impact-of-battery-level-on-screen-use" class="nav-link" data-scroll-target="#impact-of-battery-level-on-screen-use"><span class="header-section-number">2.1.1</span> Impact of Battery Level on Screen Use</a></li>
  </ul></li>
  <li><a href="#battery-as-instrument-variable" id="toc-battery-as-instrument-variable" class="nav-link" data-scroll-target="#battery-as-instrument-variable"><span class="header-section-number">2.2</span> Battery as Instrument Variable</a>
  <ul class="collapse">
  <li><a href="#impact-of-battery-level-on-screen-use-1" id="toc-impact-of-battery-level-on-screen-use-1" class="nav-link" data-scroll-target="#impact-of-battery-level-on-screen-use-1"><span class="header-section-number">2.2.1</span> Impact of Battery Level on Screen Use</a></li>
  <li><a href="#evaluation-of-iv" id="toc-evaluation-of-iv" class="nav-link" data-scroll-target="#evaluation-of-iv"><span class="header-section-number">2.2.2</span> Evaluation of IV</a></li>
  <li><a href="#battery-iv-with-turning-point" id="toc-battery-iv-with-turning-point" class="nav-link" data-scroll-target="#battery-iv-with-turning-point"><span class="header-section-number">2.2.3</span> Battery IV with Turning Point</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#alternative-ivs-number-of-contacts" id="toc-alternative-ivs-number-of-contacts" class="nav-link" data-scroll-target="#alternative-ivs-number-of-contacts"><span class="header-section-number">3</span> Alternative IVs: Number of Contacts</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<section id="social-network-control" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Social Network Control</h1>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/clipboard-3769634593.png" class="img-fluid figure-img"></p>
</figure>
</div>
<div class="sourceCode" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="kw">global</span> <span class="bu">id</span> egoid</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="kw">global</span> t date2</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="kw">global</span> ylist sleep_debt</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="kw">global</span> mainIV  c.screen_time<span class="co">##c.screen_time  message_q c.screen_time#c.message_q unlock</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="kw">global</span> Call_Control call duration_x length <span class="bu">bytes</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="kw">global</span> Fitness_Control steps100 floors sedentaryminutes lightlyactiveminutes fairlyactiveminutes veryactiveminutes lowrangecal100 fatburncal100 cardiocal100 peakcal100</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="kw">global</span> Network_Control friend_no parent_no  sibling_no  blank_no    otherfamily_no  romanticpartner_no  acquaintance_no neighbor_no coworker_no stepsibling_no  comemberorganization_no stepparent_no degree_centrality core_number trust position num_nodes num_edges duration_y contacts_y</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="kw">global</span> Other_Control naps naps_dur light_exposure insession<span class="co">##weekday##time_wakeuphour</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="kw">global</span> fe i.studyweeks</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="op">*</span>Set data <span class="im">as</span> panel data</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>sort $id $t</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>xtset $id $t</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>xtreg $ylist  $fe $Fitness_Control $Network_Control $Other_Control $mainIV $Call_Control call, fe robust</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>outreg2 using <span class="dv">3</span><span class="er">hour</span>.xls, append dec(<span class="dv">5</span>) addtext(Turning Point, Yes) keep($mainIV $Network_Control) title(<span class="st">"Impact of Smartphone Use On Sleep Debt"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>In this update, we try to find an instrument variable to justify the causal effect of screen time on sleep debt. First, we introduce the related variables:</p>
<div class="cell" data-execution_count="1">
<div class="cell-output cell-output-display" data-execution_count="1">
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">egoid</th>
<th data-quarto-table-cell-role="th">count_begin3</th>
<th data-quarto-table-cell-role="th">battery</th>
<th data-quarto-table-cell-role="th">battery_time</th>
<th data-quarto-table-cell-role="th">charging</th>
<th data-quarto-table-cell-role="th">binterval</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>14606</td>
<td>2016-07-19 20:32:00</td>
<td>51.0</td>
<td>2016-07-19 20:31:08.546</td>
<td>0.0</td>
<td>0.857567</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>14606</td>
<td>2016-08-19 20:27:00</td>
<td>58.0</td>
<td>2016-08-19 20:26:16.205</td>
<td>0.0</td>
<td>0.729917</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>14606</td>
<td>2016-08-20 21:24:00</td>
<td>16.0</td>
<td>2016-08-20 21:23:31.535</td>
<td>1.0</td>
<td>0.474417</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>14606</td>
<td>2016-08-22 21:29:30</td>
<td>8.0</td>
<td>2016-08-22 21:28:45.628</td>
<td>0.0</td>
<td>0.739533</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>14606</td>
<td>2016-08-24 21:10:30</td>
<td>41.0</td>
<td>2016-08-24 21:09:40.961</td>
<td>1.0</td>
<td>0.817317</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">80032</td>
<td>79395</td>
<td>2017-08-03 21:06:30</td>
<td>69.0</td>
<td>2017-08-03 20:56:50.323</td>
<td>0.0</td>
<td>9.661283</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">80033</td>
<td>79395</td>
<td>2017-08-06 21:03:30</td>
<td>97.0</td>
<td>2017-08-06 20:48:23.122</td>
<td>0.0</td>
<td>15.114633</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">80034</td>
<td>79395</td>
<td>2017-08-07 20:41:00</td>
<td>73.0</td>
<td>2017-08-07 20:38:31.879</td>
<td>1.0</td>
<td>2.468683</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">80035</td>
<td>79395</td>
<td>2017-08-10 21:12:30</td>
<td>46.0</td>
<td>2017-08-10 20:51:02.167</td>
<td>0.0</td>
<td>21.463883</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">80036</td>
<td>79395</td>
<td>2017-08-13 20:17:00</td>
<td>75.0</td>
<td>2017-08-13 20:16:47.469</td>
<td>1.0</td>
<td>0.208850</td>
</tr>
</tbody>
</table>

<p>80037 rows × 6 columns</p>
</div>
</div>
</div>
</section>
<section id="instrument-variable-for-screen-time" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Instrument Variable for Screen Time</h1>
<section id="charging-as-instrument-variable" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="charging-as-instrument-variable"><span class="header-section-number">2.1</span> Charging as Instrument Variable</h2>
<section id="impact-of-battery-level-on-screen-use" class="level3" data-number="2.1.1">
<h3 data-number="2.1.1" class="anchored" data-anchor-id="impact-of-battery-level-on-screen-use"><span class="header-section-number">2.1.1</span> Impact of Battery Level on Screen Use</h3>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/clipboard-2236990828.png" class="img-fluid figure-img"></p>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/clipboard-3667078777.png" class="img-fluid figure-img"></p>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/clipboard-3413638920.png" class="img-fluid figure-img"></p>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/clipboard-2256328779.png" class="img-fluid figure-img" width="963"></p>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/clipboard-617947198.png" class="img-fluid figure-img"></p>
</figure>
</div>
<p>The figures show that charging may positively impact screen time. I tried to take charging as IV for screen time, however, the estimated coefficient is not significant, although it passed the relevance test:</p>
<p>Before Turning Point:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/image.png" class="img-fluid figure-img"></p>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/image (1).png" class="img-fluid figure-img"></p>
</figure>
</div>
<p>After Turning Point:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/image (2).png" class="img-fluid figure-img"></p>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/image (3).png" class="img-fluid figure-img"></p>
</figure>
</div>
</section>
</section>
<section id="battery-as-instrument-variable" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="battery-as-instrument-variable"><span class="header-section-number">2.2</span> Battery as Instrument Variable</h2>
<section id="impact-of-battery-level-on-screen-use-1" class="level3" data-number="2.2.1">
<h3 data-number="2.2.1" class="anchored" data-anchor-id="impact-of-battery-level-on-screen-use-1"><span class="header-section-number">2.2.1</span> Impact of Battery Level on Screen Use</h3>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/clipboard-1091683936.png" class="img-fluid figure-img"></p>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/clipboard-1091683936.png" class="img-fluid figure-img"></p>
</figure>
</div>
<section id="visualization-of-the-u-shape-impact" class="level4" data-number="2.2.1.1">
<h4 data-number="2.2.1.1" class="anchored" data-anchor-id="visualization-of-the-u-shape-impact"><span class="header-section-number">2.2.1.1</span> Visualization of the U-Shape Impact</h4>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/battery.png" class="img-fluid figure-img"></p>
</figure>
</div>
<div class="sourceCode" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>clear <span class="bu">all</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="bu">set</span> maxvar <span class="dv">120000</span>, permanently</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="bu">set</span> more off</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> delimited <span class="st">"/Users/shaokangyang/Library/CloudStorage/OneDrive-Personal/Nethealth/Data/CNSA/combine/7/bt7_3hr.csv"</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>gen date2 <span class="op">=</span> date(date, <span class="st">"YMD"</span>)</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="op">**********************************************</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="kw">global</span> <span class="bu">id</span> egoid</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="kw">global</span> t date2</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="kw">global</span> ylist sleep_debt</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a><span class="kw">global</span> mainIV  c.screen_time<span class="co">##c.screen_time  message_q c.screen_time#c.message_q unlock</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a><span class="kw">global</span> Call_Control call duration_x length <span class="bu">bytes</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a><span class="kw">global</span> Fitness_Control steps100 floors sedentaryminutes lightlyactiveminutes fairlyactiveminutes veryactiveminutes lowrangecal100 fatburncal100 cardiocal100 peakcal100</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a><span class="kw">global</span> Network_Control friend_no parent_no  sibling_no  blank_no    otherfamily_no  romanticpartner_no  acquaintance_no neighbor_no coworker_no stepsibling_no  comemberorganization_no stepparent_no degree_centrality core_number trust position num_nodes num_edges duration_y contacts_y</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a><span class="kw">global</span> Other_Control naps naps_dur light_exposure insession<span class="co">##weekday##time_wakeuphour</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a><span class="kw">global</span> fe i.studyweeks</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a><span class="op">*</span>Set data <span class="im">as</span> panel data</span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>sort $id $t</span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>xtset $id $t</span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>ivreghdfe $ylist $Fitness_Control $Network_Control $Other_Control $Call_Contro message_q unlock charging (c.screen_time<span class="co">##c.screen_time=c.battery##c.battery), absorb(egoid studyweeks) robust endog(screen_time)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="impact-of-screen-time-on-sleep-debt" class="level4" data-number="2.2.1.2">
<h4 data-number="2.2.1.2" class="anchored" data-anchor-id="impact-of-screen-time-on-sleep-debt"><span class="header-section-number">2.2.1.2</span> Impact of Screen Time on Sleep Debt</h4>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/clipboard-2139860948.png" class="img-fluid figure-img"></p>
</figure>
</div>
</section>
</section>
<section id="evaluation-of-iv" class="level3" data-number="2.2.2">
<h3 data-number="2.2.2" class="anchored" data-anchor-id="evaluation-of-iv"><span class="header-section-number">2.2.2</span> Evaluation of IV</h3>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/clipboard-3440018871.png" class="img-fluid figure-img"></p>
</figure>
</div>
<ol type="1">
<li><p><strong>Underidentification Test (Kleibergen-Paap rk LM Statistic):</strong></p>
<ul>
<li><p>This test checks whether the instruments are correlated with the endogenous regressors—in the case, whether ‘battery_levels’ is correlated with ‘screen_time’ and ‘screen_time^2’. A failure to reject the null hypothesis would indicate that the instruments are not relevant, and hence the model is underidentified (meaning t<strong>he IV approach cannot be validly used</strong>).</p></li>
<li><p>In the results, the Kleibergen-Paap rk LM statistic is 105.271 with a p-value of 0.0000, indicating strong rejection of the null hypothesis of underidentification. This means the <strong>instruments are likely relevant</strong>.</p></li>
</ul></li>
<li><p><strong>Weak Identification Tests (Cragg-Donald Wald F statistic and Kleibergen-Paap rk Wald F statistic):</strong></p>
<ul>
<li><p>These tests check whether the instruments are sufficiently correlated with the endogenous regressors. While the instruments may be correlated (not underidentified), they might not be strong enough to provide reliable estimates (weak instruments).</p></li>
<li><p>The critical values provided by Stock and Yogo help determine whether the instruments are weak. If the test statistic (Cragg-Donald or Kleibergen-Paap) is above the critical value for a given maximal IV size (size of a test for a given level of IV bias), <strong>the instruments are not considered weak</strong>.</p></li>
<li><p>In the case, the Cragg-Donald Wald F statistic is 57.995, and the Kleibergen-Paap rk Wald F statistic is 52.396. These are both above the highest listed Stock-Yogo critical value of 7.03 for a maximal IV size of 10%. This indicates that the instrument is not weak according to the Stock-Yogo weak identification test standards.</p></li>
</ul></li>
</ol>
<p><strong>Interpretation:</strong></p>
<ul>
<li><p>The underidentification test indicates that the model is properly identified, meaning that there is a statistical relationship between the instruments and the endogenous variables.</p></li>
<li><p>The weak identification tests suggest that the <strong>instruments are strong</strong>, as indicated by the test statistics significantly exceeding the Stock-Yogo critical values.</p></li>
</ul>
<p>Therefore, based on these diagnostics, it appears that the instrument (battery levels) is both relevant (related to the endogenous variable screen time) and strong (provides sufficient information to estimate the causal effect reliably). This lends credibility to the IV estimates obtained from the model. However, remember that these tests do not address other potential issues such as exogeneity (whether the instruments are correlated with the error term) and overidentification (having more instruments than endogenous variables, which can be tested with a different set of tests). Always consider the theoretical justification for the instruments in addition to these statistical tests.</p>
</section>
<section id="battery-iv-with-turning-point" class="level3" data-number="2.2.3">
<h3 data-number="2.2.3" class="anchored" data-anchor-id="battery-iv-with-turning-point"><span class="header-section-number">2.2.3</span> Battery IV with Turning Point</h3>
<section id="iv-before-turning-point" class="level4" data-number="2.2.3.1">
<h4 data-number="2.2.3.1" class="anchored" data-anchor-id="iv-before-turning-point"><span class="header-section-number">2.2.3.1</span> IV Before Turning Point</h4>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/clipboard-769146924.png" class="img-fluid figure-img"></p>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/clipboard-1425622386.png" class="img-fluid figure-img"></p>
</figure>
</div>
</section>
<section id="iv-after-turning-point" class="level4" data-number="2.2.3.2">
<h4 data-number="2.2.3.2" class="anchored" data-anchor-id="iv-after-turning-point"><span class="header-section-number">2.2.3.2</span> IV After Turning Point</h4>
</section>
</section>
</section>
</section>
<section id="alternative-ivs-number-of-contacts" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> Alternative IVs: Number of Contacts</h1>
<p><img src="images/clipboard-2448270006.png" class="img-fluid"></p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>