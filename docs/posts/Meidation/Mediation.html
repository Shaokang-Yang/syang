<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Causal Inference</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../../Virginia_Tech_seal.svg.png" rel="icon" type="image/png">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../Horizontal_VT_Full_Color_RGB.png" alt="" class="navbar-logo">
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../research.html" rel="" target="">
 <span class="menu-text">Research</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../teaching.html" rel="" target="">
 <span class="menu-text">Teaching</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../project.html" rel="" target="">
 <span class="menu-text">Project</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Causal Inference</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">Paper1</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">Monday, January 8, 2024</p>
      </div>
    </div>
    
      <div>
      <div class="quarto-title-meta-heading">Modified</div>
      <div class="quarto-title-meta-contents">
        <p class="date-modified">Sunday, August 17, 2025</p>
      </div>
    </div>
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#causal-mediation-analysis-based-on-two-way-fixed-effects-model" id="toc-causal-mediation-analysis-based-on-two-way-fixed-effects-model" class="nav-link active" data-scroll-target="#causal-mediation-analysis-based-on-two-way-fixed-effects-model"><span class="header-section-number">1</span> Causal Mediation Analysis Based on Two-way Fixed Effects Model</a>
  <ul class="collapse">
  <li><a href="#import-dataset" id="toc-import-dataset" class="nav-link" data-scroll-target="#import-dataset"><span class="header-section-number">1.0.1</span> Import Dataset</a></li>
  <li><a href="#caual-mediation-analysis" id="toc-caual-mediation-analysis" class="nav-link" data-scroll-target="#caual-mediation-analysis"><span class="header-section-number">1.0.2</span> Caual mediation analysis</a></li>
  <li><a href="#sobel-goodman-mediation-tests" id="toc-sobel-goodman-mediation-tests" class="nav-link" data-scroll-target="#sobel-goodman-mediation-tests"><span class="header-section-number">1.1</span> Sobel-Goodman Mediation Tests</a>
  <ul class="collapse">
  <li><a href="#section" id="toc-section" class="nav-link" data-scroll-target="#section"><span class="header-section-number">1.1.1</span> </a></li>
  </ul></li>
  <li><a href="#before-turning-point" id="toc-before-turning-point" class="nav-link" data-scroll-target="#before-turning-point"><span class="header-section-number">1.2</span> Before turning point</a>
  <ul class="collapse">
  <li><a href="#section-1" id="toc-section-1" class="nav-link" data-scroll-target="#section-1"><span class="header-section-number">1.2.1</span> </a></li>
  <li><a href="#interpretation" id="toc-interpretation" class="nav-link" data-scroll-target="#interpretation"><span class="header-section-number">1.2.2</span> Interpretation:</a></li>
  </ul></li>
  <li><a href="#after-turning-point" id="toc-after-turning-point" class="nav-link" data-scroll-target="#after-turning-point"><span class="header-section-number">1.3</span> After turning point</a>
  <ul class="collapse">
  <li><a href="#sobel-goodman-mediation-tests-1" id="toc-sobel-goodman-mediation-tests-1" class="nav-link" data-scroll-target="#sobel-goodman-mediation-tests-1"><span class="header-section-number">1.3.1</span> <strong>Sobel-Goodman Mediation Tests</strong></a></li>
  <li><a href="#interpretation-1" id="toc-interpretation-1" class="nav-link" data-scroll-target="#interpretation-1"><span class="header-section-number">1.3.2</span> <strong>Interpretation:</strong></a></li>
  <li><a href="#outlier-handling" id="toc-outlier-handling" class="nav-link" data-scroll-target="#outlier-handling"><span class="header-section-number">1.3.3</span> Outlier Handling</a></li>
  <li><a href="#indirect-direct-and-total-effects" id="toc-indirect-direct-and-total-effects" class="nav-link" data-scroll-target="#indirect-direct-and-total-effects"><span class="header-section-number">1.3.4</span> <strong>Indirect, Direct, and Total Effects</strong></a></li>
  <li><a href="#proportions-and-ratios" id="toc-proportions-and-ratios" class="nav-link" data-scroll-target="#proportions-and-ratios"><span class="header-section-number">1.3.5</span> <strong>Proportions and Ratios</strong></a></li>
  <li><a href="#overall-interpretation" id="toc-overall-interpretation" class="nav-link" data-scroll-target="#overall-interpretation"><span class="header-section-number">1.3.6</span> <strong>Overall Interpretation</strong></a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<section id="causal-mediation-analysis-based-on-two-way-fixed-effects-model" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Causal Mediation Analysis Based on Two-way Fixed Effects Model</h1>
<p>Since we find the screen time has a U-shape impact on sleep debt, we may wonder what mechanisms behind it. The following figure implies that sleep debt may have a reverse shape of sleep debt. Therefore, we may want to explore whether the U-Shape of sleep debt is caused by the reverse U-shape of message.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/paste-10.png" class="img-fluid figure-img"></p>
</figure>
</div>
<p>First of all, one may be concered the rise of sleep debt after turning point may be driven by the potential outliers in the last two bars (screen time &gt; 80 minutes). However, whether these observations are outliers cannot be determined solely by their proportion of the total dataset. We have 506 unique participants in our final data set. There are <strong>353 (69.76% of total participants)</strong> unique participants whose screen time has ever been greater than 80 minutes; <strong>293 (57.91% of total participants)</strong>participants whose screen time has ever been greater than 85 minutes. It suggests that a large proportion of participants contributed to the data of last two bars. This might mean that those observations are not anomalies but a representation of a segment of the population, which reflects the inherent nature of the data <span class="citation" data-cites="osborne">(<a href="#ref-osborne" role="doc-biblioref">Osborne and Overbay, n.d.</a>)</span>. Moreover, the U-shape persists in all the variations of measurement window:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/9main-2.png" class="img-fluid figure-img"></p>
</figure>
</div>
<p>The above figure suggest that the U-shape always <strong>converge</strong> in the predictive models over the variation of measurement windows. Therefore, we believe those observations reflects the real-world variability. Maintaining outliers can sometimes contribute to the integrity and reliability of research findings​<span class="citation" data-cites="bakker2014">(<a href="#ref-bakker2014" role="doc-biblioref">Bakker and Wicherts 2014</a>)</span>.</p>
<p>Causal mediation analysis can help us to understand how an independent variable (IV) affects a dependent variable (DV) through a mediator variable (MV).</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/mediation-6.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Meiation Effect of Message</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/paste-5.png" class="img-fluid figure-img"></p>
</figure>
</div>
<section id="import-dataset" class="level3" data-number="1.0.1">
<h3 data-number="1.0.1" class="anchored" data-anchor-id="import-dataset"><span class="header-section-number">1.0.1</span> Import Dataset</h3>
<div class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-overflow-wrap code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="op">%%</span>stata</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>clear <span class="bu">all</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="bu">set</span> maxvar <span class="dv">120000</span>, permanently</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="bu">set</span> more off</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> delimited <span class="st">"/Users/shaokangyang/Library/CloudStorage/GoogleDrive-sky.ang510@gmail.com/My Drive/Nethealth/Data/CNSA/combine/7/df7_22-5.csv"</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>gen date2 <span class="op">=</span> date(date, <span class="st">"YMD"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="caual-mediation-analysis" class="level3" data-number="1.0.2">
<h3 data-number="1.0.2" class="anchored" data-anchor-id="caual-mediation-analysis"><span class="header-section-number">1.0.2</span> Caual mediation analysis</h3>
<div class="sourceCode" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: true</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="co">#| output: false</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-overflow: wrap</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="op">%%</span>stata</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>sgmediation2 sleep_debt, iv(screen_time) mv(message_q) cv(i.egoid i.date2 unlock call <span class="bu">bytes</span> length duration steps100 floors meanrate calorie_sum sedentaryminutes lightlyactiveminutes fairlyactiveminutes veryactiveminutes light_exposure  insession<span class="co">#weekday#time_wakeuphour i.studyweeks)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="sobel-goodman-mediation-tests" class="level2" data-number="1.1">
<h2 data-number="1.1" class="anchored" data-anchor-id="sobel-goodman-mediation-tests"><span class="header-section-number">1.1</span> Sobel-Goodman Mediation Tests</h2>
<ul>
<li><strong>Sobel, Aroian, Goodman Tests</strong>: All three tests show a significant mediation effect. The estimates are -0.015 with very small standard errors, and the z-values are large with p-values of 0.000, indicating a highly significant mediation effect.</li>
</ul>
<section id="section" class="level3" data-number="1.1.1">
<h3 data-number="1.1.1" class="anchored" data-anchor-id="section"><span class="header-section-number">1.1.1</span> </h3>
</section>
</section>
<section id="before-turning-point" class="level2" data-number="1.2">
<h2 data-number="1.2" class="anchored" data-anchor-id="before-turning-point"><span class="header-section-number">1.2</span> Before turning point</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/paste-9.png" class="img-fluid figure-img"></p>
</figure>
</div>
<section id="section-1" class="level3" data-number="1.2.1">
<h3 data-number="1.2.1" class="anchored" data-anchor-id="section-1"><span class="header-section-number">1.2.1</span> </h3>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/mediation - before-3.png" class="img-fluid figure-img"></p>
</figure>
</div>
</section>
<section id="interpretation" class="level3" data-number="1.2.2">
<h3 data-number="1.2.2" class="anchored" data-anchor-id="interpretation"><span class="header-section-number">1.2.2</span> Interpretation:</h3>
<ol type="1">
<li><p><strong>Mediator (Message) Model:</strong> Message=⍺+0.014×Screen&nbsp;Time+ϵ1​</p>
<ul>
<li>For every unit increase in screen time, message increases by 0.014 units, assuming message is quantifiable. This relationship is highly significant (p &lt; 0.001).</li>
</ul></li>
<li><p><strong>Dependent Variable (Sleep Debt) Model:</strong> Sleep&nbsp;Debt=𝛃−0.730×Screen&nbsp;Time−1.149×Message+ϵ2</p>
<ul>
<li><p>Screen time has a significant negative direct effect on sleep debt (-0.730), suggesting that increased screen time reduces sleep debt.</p></li>
<li><p>Message also has a significant negative effect on sleep debt (-1.149), indicating that higher message is associated with reduced sleep debt.</p></li>
<li><p>These effects are statistically significant (p &lt; 0.001).</p></li>
</ul></li>
<li><p><strong>Total Effect of Screen Time on Sleep Debt:</strong> Sleep&nbsp;Debt=𝛄−0.746×Screen&nbsp;Time+ϵ3​</p>
<ul>
<li>The total effect of screen time on sleep debt is significant and negative (-0.746), indicating that increased screen time is associated with reduced sleep debt overall.</li>
</ul></li>
<li><p><strong>Mediation Analysis:</strong></p>
<ul>
<li><p>The indirect effect of screen time on sleep debt through message is -0.016 (a * b), and it’s significant (p &lt; 0.001). This suggests that part of the effect of screen time on sleep debt operates through its impact on message frequency. Although the impact on the message is relatively small (0.014), since the message is measured in quartiles, it still could have a big impact.</p></li>
<li><p>The proportion of the total effect that is mediated (approx. 2.2%) indicates that a small but significant portion of the relationship between screen time and sleep debt is explained by message frequency.</p></li>
</ul></li>
<li><p><strong>Summary:</strong></p>
<ul>
<li><p>Increased screen time is associated with both increased message and reduced sleep debt.</p></li>
<li><p>The direct effect of screen time on sleep debt is strong and negative, meaning screen time directly contributes to reducing sleep debt.</p></li>
<li><p>There is a significant but small mediation effect through message frequency, suggesting that part of the way screen time affects sleep debt is by influencing message frequency.</p></li>
<li><p>Overall, the total effect of screen time on sleep debt, considering both direct and indirect pathways, is significant and negative.</p></li>
</ul></li>
</ol>
</section>
</section>
<section id="after-turning-point" class="level2" data-number="1.3">
<h2 data-number="1.3" class="anchored" data-anchor-id="after-turning-point"><span class="header-section-number">1.3</span> After turning point</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/paste-7.png" class="img-fluid figure-img"></p>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/mediation - after-5.png" class="img-fluid figure-img"></p>
</figure>
</div>
<section id="sobel-goodman-mediation-tests-1" class="level3" data-number="1.3.1">
<h3 data-number="1.3.1" class="anchored" data-anchor-id="sobel-goodman-mediation-tests-1"><span class="header-section-number">1.3.1</span> <strong>Sobel-Goodman Mediation Tests</strong></h3>
<ol type="1">
<li><p><strong>Indirect, Direct, and Total Effects:</strong></p>
<ul>
<li><p><strong>a_coefficient (Effect of IV on MV):</strong> The effect of the independent variable on the mediator is -0.001, which is not statistically significant (p = 0.209).</p></li>
<li><p><strong>b_coefficient (Effect of MV on DV):</strong> The effect of the mediator on the dependent variable is -2.531 and is statistically significant (p &lt; 0.001).</p></li>
<li><p><strong>Indirect_effect_aXb (Mediation Effect):</strong> The indirect effect, calculated as the product of a and b coefficients, is 0.003 but not statistically significant (p = 0.220).</p></li>
<li><p><strong>Direct_effect_c’ (Direct Effect of IV on DV):</strong> The direct effect of the independent variable on the dependent variable is 0.310, which is significant (p &lt; 0.001).</p></li>
<li><p><strong>Total_effect_c (Total Effect of IV on DV):</strong> The total effect is 0.313, also significant (p &lt; 0.001).</p></li>
</ul></li>
<li><p><strong>Proportions and Ratios:</strong></p>
<ul>
<li><p><strong>Proportion of total effect that is mediated:</strong> About 0.9% of the total effect is mediated, which is quite small.</p></li>
<li><p><strong>Ratio of indirect to direct effect:</strong> The indirect effect is approximately 0.9% of the direct effect.</p></li>
<li><p><strong>Ratio of total to direct effect:</strong> The total effect is 1.009 times the direct effect.</p></li>
</ul></li>
</ol>
</section>
<section id="interpretation-1" class="level3" data-number="1.3.2">
<h3 data-number="1.3.2" class="anchored" data-anchor-id="interpretation-1"><span class="header-section-number">1.3.2</span> <strong>Interpretation:</strong></h3>
<ul>
<li><p><strong>Mediation Effect:</strong> The results suggest that the mediation effect in the model is not statistically significant. This implies that the relationship between the independent and dependent variables is not significantly channeled through the mediator.</p></li>
<li><p><strong>Direct Effect:</strong> The direct relationship between the independent variable and the dependent variable is significant and represents the main pathway of influence.</p></li>
<li><p><strong>Total Effect:</strong> The overall effect of the independent variable on the dependent variable is significant, predominantly driven by the direct pathway.</p></li>
<li><p>Messages still help&nbsp;reduce sleep debt <strong>(-2.531***),</strong>&nbsp;but the mediation effect is not significant anymore because the channel from screen time to message is cut off (<strong>not significant</strong>). This is a bit different from our earlier results since the interaction term (screen time * message)&nbsp;earlier suggests&nbsp;that their combination could negatively impact sleep debt.</p></li>
<li><p><strong>Mediation Proportion:</strong> The small proportion of mediation suggests that the mediator plays a negligible role in the relationship between the independent and dependent variables in this particular analysis.</p></li>
</ul>
</section>
<section id="outlier-handling" class="level3" data-number="1.3.3">
<h3 data-number="1.3.3" class="anchored" data-anchor-id="outlier-handling"><span class="header-section-number">1.3.3</span> Outlier Handling</h3>
<p>According to the <strong>1.5 IQR rule</strong>, observations with messages &gt; 20 or unlocks &gt; 23.5 should be taken as outliers. Therefore, I take 20 as the message frequency for those that are greater than 20. Similarly, I take 23.5 as unlocking outliers’ values.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/paste-13.png" class="img-fluid figure-img"></p>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/mediation - after outlier-3.png" class="img-fluid figure-img"></p>
</figure>
</div>
</section>
<section id="indirect-direct-and-total-effects" class="level3" data-number="1.3.4">
<h3 data-number="1.3.4" class="anchored" data-anchor-id="indirect-direct-and-total-effects"><span class="header-section-number">1.3.4</span> <strong>Indirect, Direct, and Total Effects</strong></h3>
<ul>
<li><p><strong>a_coefficient</strong>: The effect of the independent variable on the mediator is significant (Est = 0.019, p &lt; 0.001).</p></li>
<li><p><strong>b_coefficient</strong>: The effect of the mediator on the dependent variable, controlling for the independent variable, is also significant (Est = -0.454, p &lt; 0.001).</p></li>
<li><p><strong>Indirect_effect_aXb</strong>: The estimated indirect effect is -0.009, which is significant (p = 0.003). This suggests that the mediator carries some of the influence of the independent variable to the dependent variable.</p></li>
<li><p><strong>Direct_effect_c’</strong>: The direct effect of the independent variable on the dependent variable is significant and positive (Est = 0.308, p &lt; 0.001).</p></li>
<li><p><strong>Total_effect_c</strong>: The total effect (considering both direct and mediated pathways) is also significant (Est = 0.299, p &lt; 0.001).</p></li>
</ul>
</section>
<section id="proportions-and-ratios" class="level3" data-number="1.3.5">
<h3 data-number="1.3.5" class="anchored" data-anchor-id="proportions-and-ratios"><span class="header-section-number">1.3.5</span> <strong>Proportions and Ratios</strong></h3>
<ul>
<li><p><strong>Proportion of total effect that is mediated</strong>: -0.029. This negative value is somewhat unusual in mediation analysis. It suggests that the indirect effect works in the opposite direction to the total effect.</p></li>
<li><p><strong>Ratio of indirect to direct effect</strong>: -0.029, indicating that the magnitude of the indirect effect is small compared to the direct effect.</p></li>
<li><p><strong>Ratio of total to direct effect</strong>: 0.971, suggesting that the majority of the total effect is due to the direct effect.</p></li>
</ul>
</section>
<section id="overall-interpretation" class="level3" data-number="1.3.6">
<h3 data-number="1.3.6" class="anchored" data-anchor-id="overall-interpretation"><span class="header-section-number">1.3.6</span> <strong>Overall Interpretation</strong></h3>
<ul>
<li><p>The mediation effect in the model is statistically significant, but its impact is relatively small compared to the direct effect of the independent variable on the dependent variable.</p></li>
<li><p>The negative value for the proportion of the total effect that is mediated indicates a complex relationship between the variables, potentially involving suppression effects or other intricate dynamics in the model. It could suggest that while the mediator transmits some of the influence, it does so in a way that partially offsets or reduces the total effect of the independent variable on the dependent variable. This warrants a closer examination of the nature of the variables and their interactions.</p></li>
</ul>



</section>
</section>
</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" role="list">
<div id="ref-bakker2014" class="csl-entry" role="listitem">
Bakker, Marjan, and Jelte M. Wicherts. 2014. <span>“Outlier Removal and the Relation with Reporting Errors and Quality of Psychological Research.”</span> Edited by Lise Lotte Gluud. <em>PLoS ONE</em> 9 (7): e103360. <a href="https://doi.org/10.1371/journal.pone.0103360">https://doi.org/10.1371/journal.pone.0103360</a>.
</div>
<div id="ref-osborne" class="csl-entry" role="listitem">
Osborne, Jason W., and Amy Overbay. n.d. <span>“The Power of Outliers (and Why Researchers Should ALWAYS Check for Them).”</span> <a href="https://doi.org/10.7275/QF69-7K43">https://doi.org/10.7275/QF69-7K43</a>.
</div>
</div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>